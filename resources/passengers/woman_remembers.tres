[gd_resource type="Resource" script_class="PassengerData" load_steps=8 format=3]

[ext_resource type="Script" path="res://resources/passenger_data.gd" id="1_pd"]
[ext_resource type="Script" path="res://resources/dialogue_node.gd" id="2_dn"]
[ext_resource type="Script" path="res://resources/dialogue_choice.gd" id="3_dc"]

[sub_resource type="Resource" id="choice_deny"]
script = ExtResource("3_dc")
text = "I don't think so. I'd remember."
next_node = "w2_deny"
sets_flag = "denied_woman_memory"

[sub_resource type="Resource" id="choice_play_along"]
script = ExtResource("3_dc")
text = "Maybe... when was it?"
next_node = "w2_play_along"
sets_flag = "played_along_woman"

[sub_resource type="Resource" id="node_w1"]
script = ExtResource("2_dn")
id = "w1"
speaker = 0
text = "Oh! It's you again."
next_node = "w2"
pre_delay = 2.0

[sub_resource type="Resource" id="node_w2"]
script = ExtResource("2_dn")
id = "w2"
speaker = 0
text = "I rode with you last Tuesday. Same car. Same air freshener. You were playing that song... the one with the piano."
choices = [SubResource("choice_deny"), SubResource("choice_play_along")]

[sub_resource type="Resource" id="node_w2_deny"]
script = ExtResource("2_dn")
id = "w2_deny"
speaker = 0
text = "You were wearing a blue jacket. You told me about your hometown... {player_hometown}, right?"
next_node = "w3"
triggers = ["ambience:tension"]

[sub_resource type="Resource" id="node_w2_play"]
script = ExtResource("2_dn")
id = "w2_play_along"
speaker = 0
text = "Last Tuesday. Around this time, actually. You seemed... tired. Like tonight."
next_node = "w3"

[sub_resource type="Resource" id="node_w3"]
script = ExtResource("2_dn")
id = "w3"
speaker = 5
text = "(You didn't drive last Tuesday. You were home all night.)"
next_node = "w4"
pre_delay = 1.5

[sub_resource type="Resource" id="node_w4"]
script = ExtResource("2_dn")
id = "w4"
speaker = 0
text = "You know what's funny? You said the exact same thing last time too."
triggers = ["ambience:tension", "set_flag:woman_warned_you"]
auto_advance = 4.0

[resource]
script = ExtResource("1_pd")
id = "woman_remembers"
display_name = "Clara M."
pickup_location = "114 Birchwood Ln"
destination = "The Orion Building, 5th & Main"
destination_exists = true
dialogue_nodes = [SubResource("node_w1"), SubResource("node_w2"), SubResource("node_w2_deny"), SubResource("node_w2_play"), SubResource("node_w3"), SubResource("node_w4")]
min_ride_number = 0
max_ride_number = 2
time_window = Vector2(23, 2)
sets_flags = ["met_woman", "woman_remembers_complete"]
triggers_event = ""
is_refusable = true
refuse_consequence = "flag_refused_woman"
is_mandatory = false
ambient_override = -1
